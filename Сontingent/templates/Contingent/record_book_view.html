{#{% extends 'base_detail.html' %}#}
{##}
{#{% load util %}#}
{#{% load static %}#}
{##}
{#{% block title %}#}
{#Просмотр зачетной книжки - {{ template.student_name|default:"Не указано" }}#}
{#{% endblock %}#}
{##}
{#{% block detail-header %}#}
{#<h1>#}
{#    Зачетная книжка: {{ template.student_name|default:"Не указано" }}#}
{#</h1>#}
{#{% endblock %}#}
{##}
{#{% block actions-button %}#}
{#    {% if is_student_gradebbok %}#}
{#        <a class="btn-primary" href="{% url 'student_detail' pk=student_id %}">#}
{#            К студенту#}
{#        </a>#}
{#    {% else %}#}
{#        <a class="btn-primary" href="{% url 'edit_record_book_template' qualification.id admission_year %}">#}
{#            Редактировать#}
{#        </a>#}
{#        <a class="btn-primary" href="{% url 'qualification_detail' pk=qualification.id %}">#}
{#            Назад к квалификации#}
{#        </a>#}
{#    {% endif %}#}
{##}
{#{% endblock %}#}
{##}
{#{% block ditail-content %}#}
{#    <div class="detail-content">#}
{#        <div class="detail-tabs">#}
{#            <button type="button" class="detail-tab tab-button active" data-tab="info">Информация</button>#}
{#            <button type="button" class="detail-tab tab-button" data-tab="certifications">Промежуточная аттестация</button>#}
{#            <button type="button" class="detail-tab tab-button" data-tab="modules">Профессиональные модули</button>#}
{#            <button type="button" class="detail-tab tab-button" data-tab="practices">Практики</button>#}
{#            <button type="button" class="detail-tab tab-button" data-tab="term_papers">Курсовые работы</button>#}
{#        </div>#}
{##}
{#        <div class="detail-tab-content">#}
{#            <!-- Информация о студенте -->#}
{#            <div id="info" class="tab-pane active">#}
{#                <div class="info-list">#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">ФИО</span>#}
{#                        <span class="info-value">{{ template.student_name|default:"Не указано" }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Номер зачетной книжки</span>#}
{#                        <span class="info-value">{{ template.record_book_number|default:"Не указано" }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Направление подготовки</span>#}
{#                        <span class="info-value">{{ qualification.specialty.name }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Приказ о зачислении</span>#}
{#                        <span class="info-value">{{ template.admission_order|default:"Не указано" }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Дата выдачи</span>#}
{#                        <span class="info-value">{{ template.issue_date|date:"d.m.Y"|default:"Не указано" }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Квалификация</span>#}
{#                        <span class="info-value">{{ qualification.name }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Год поступления</span>#}
{#                        <span class="info-value">{{ admission_year }}</span>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{##}
{#            <!-- Промежуточная аттестация -->#}
{#            <div id="certifications" class="tab-pane">#}
{#                {% if template.middle_certifications.all %}#}
{#                    <div class="certification-container">#}
{#                        <div class="certification-header">#}
{#                            <div class="column-header">Экзамены</div>#}
{#                            <div class="column-header">Зачеты</div>#}
{#                        </div>#}
{#                        <div class="certification-subheader">#}
{#                            <div class="column-subheader">Дисциплина</div>#}
{#                            <div class="column-subheader">Дисциплина</div>#}
{#                        </div>#}
{#                        {% regroup template.middle_certifications.all|dictsort:"semester" by semester as semester_groups %}#}
{#                        {% for group in semester_groups %}#}
{#                            <div class="semester-section">#}
{#                                <h4>{{ group.grouper }} семестр</h4>#}
{#                                <div class="certification-grid">#}
{#                                    <div class="exam-column">#}
{#                                        {% for cert in group.list %}#}
{#                                            {% if cert.is_exam %}#}
{#                                                <div class="record-tile">#}
{#                                                    <p>{{ cert.discipline.name }}</p>#}
{#                                                    <p>Семестр: {{ cert.semester }}</p>#}
{#                                                    <p>Часы: {{ cert.hours }}</p>#}
{#                                                </div>#}
{#                                            {% endif %}#}
{#                                        {% endfor %}#}
{#                                    </div>#}
{#                                    <div class="credit-column">#}
{#                                        {% for cert in group.list %}#}
{#                                            {% if not cert.is_exam %}#}
{#                                                <div class="record-tile">#}
{#                                                    <p>{{ cert.discipline.name }}</p>#}
{#                                                    <p>Семестр: {{ cert.semester }}</p>#}
{#                                                    <p>Часы: {{ cert.hours }}</p>#}
{#                                                </div>#}
{#                                            {% endif %}#}
{#                                        {% endfor %}#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{#                        {% endfor %}#}
{#                    </div>#}
{#                {% else %}#}
{#                    <p>Нет данных о промежуточной аттестации.</p>#}
{#                {% endif %}#}
{#            </div>#}
{##}
{#            <!-- Профессиональные модули -->#}
{#            <div id="modules" class="tab-pane">#}
{#                {% if template.professional_modules.all %}#}
{#                    <div class="record-grid">#}
{#                        {% for module in template.professional_modules.all %}#}
{#                            <div class="record-tile">#}
{#                                <p><strong>Название:</strong> {{ module.module_name }}</p>#}
{#                                <p><strong>Название:</strong> {{ module.name }}</p>#}
{#                                <p><strong>Часы:</strong> {{ module.hours }}</p>#}
{#                            </div>#}
{#                        {% endfor %}#}
{#                    </div>#}
{#                {% else %}#}
{#                    <p>Нет данных о профессиональных модулях.</p>#}
{#                {% endif %}#}
{#            </div>#}
{##}
{#            <!-- Практики -->#}
{#            <div id="practices" class="tab-pane">#}
{#                {% if template.practices.all %}#}
{#                    <div class="record-grid">#}
{#                        {% for practice in template.practices.all %}#}
{#                            <div class="record-tile">#}
{#                                <p><strong>Название:</strong> {{ practice.practice_name }}</p>#}
{#                                <p><strong>Часы:</strong> {{ practice.hours }}</p>#}
{#                                <p><strong>Семестр:</strong> {{ practice.semester }}</p>#}
{#                                <p><strong>Тип:</strong> {{ practice.get_practice_type_display }}</p>#}
{#                            </div>#}
{#                        {% endfor %}#}
{#                    </div>#}
{#                {% else %}#}
{#                    <p>Нет данных о практиках.</p>#}
{#                {% endif %}#}
{#            </div>#}
{##}
{#            <!-- Курсовые работы -->#}
{#            <div id="term_papers" class="tab-pane">#}
{#                {% if template.term_papers.all %}#}
{#                    <div class="record-grid">#}
{#                        {% for paper in template.term_papers.all %}#}
{#                            <div class="record-tile">#}
{#                                <p><strong>Дисциплина:</strong> {{ paper.discipline.name }}</p>#}
{#                            </div>#}
{#                        {% endfor %}#}
{#                    </div>#}
{#                {% else %}#}
{#                    <p>Нет данных о курсовых работах.</p>#}
{#                {% endif %}#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <style>#}
{#        .record-grid {#}
{#            display: grid;#}
{#            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));#}
{#            gap: 20px;#}
{#            padding: 10px;#}
{#        }#}
{#        .record-tile {#}
{#            background-color: --bg-color;#}
{#            border: 1px solid #ddd;#}
{#            border-radius: 5px;#}
{#            padding: 15px;#}
{#            min-height: 100px;#}
{#            display: flex;#}
{#            flex-direction: column;#}
{#            justify-content: space-between;#}
{#        }#}
{#        .record-tile p {#}
{#            margin: 5px 0;#}
{#            font-size: 18px;#}
{#            font-weight: 500;#}
{#        }#}
{#        .record-tile p strong {#}
{#            color: --text-color;#}
{#        }#}
{#        .certification-container {#}
{#            padding: 10px;#}
{#        }#}
{#        .certification-header {#}
{#            display: grid;#}
{#            grid-template-columns: 1fr 1fr;#}
{#            gap: 20px;#}
{#            text-align: center;#}
{#            margin-bottom: 10px;#}
{#        }#}
{#        .column-header {#}
{#            font-size: 18px;#}
{#            color: --text-color;#}
{#        }#}
{#        .certification-subheader {#}
{#            display: grid;#}
{#            grid-template-columns: 1fr 1fr;#}
{#            gap: 20px;#}
{#            text-align: center;#}
{#            margin-bottom: 15px;#}
{#        }#}
{#        .column-subheader {#}
{#            font-size: 16px;#}
{#            font-weight: bold;#}
{#            color: --text-color;#}
{#        }#}
{#        .semester-section {#}
{#            margin-bottom: 20px;#}
{#            border-bottom: 1px solid #ddd;#}
{#            padding-bottom: 20px;#}
{#        }#}
{#        .semester-section:last-child {#}
{#            border-bottom: none;#}
{#        }#}
{#        .semester-section h4 {#}
{#            font-size: 16px;#}
{#            color: --text-color;#}
{#            margin-bottom: 15px;#}
{#            text-align: center;#}
{#        }#}
{#        .certification-grid {#}
{#            display: grid;#}
{#            grid-template-columns: 1fr 1fr;#}
{#            gap: 20px;#}
{#        }#}
{#        .exam-column, .credit-column {#}
{#            display: flex;#}
{#            flex-direction: column;#}
{#            gap: 10px;#}
{#        }#}
{#    </style>#}
{##}
{#    <script>#}
{#        document.addEventListener('DOMContentLoaded', function() {#}
{#            const tabs = document.querySelectorAll('.tab-button');#}
{#            const panes = document.querySelectorAll('.tab-pane');#}
{##}
{#            tabs.forEach(tab => {#}
{#                tab.addEventListener('click', function(e) {#}
{#                    e.preventDefault();#}
{#                    tabs.forEach(t => t.classList.remove('active'));#}
{#                    panes.forEach(p => p.classList.remove('active'));#}
{##}
{#                    tab.classList.add('active');#}
{#                    document.getElementById(tab.dataset.tab).classList.add('active');#}
{#                });#}
{#            });#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}

{% extends 'base_detail.html' %}

{% load util %}
{% load static %}

{% block title %}
Просмотр зачетной книжки - {{ object.student_name|default:"Не указано" }}
{% endblock %}

{% block detail-header %}
<h1>
    Зачетная книжка: {{ object.student_name|default:"Не указано" }}
</h1>
{% endblock %}

{% block actions-button %}
    {% if is_student_gradebook %}
        <a class="btn-primary" href="{% url 'student_detail' pk=student_id %}">
            К студенту
        </a>
    {% else %}
        <a class="btn-primary" href="{% url 'qualification_detail' pk=qualification.id %}">
            Назад к квалификации
        </a>
    {% endif %}
{% endblock %}

{% block tabs %}
    {% for key, fields in fieldset.items %}
        <div id="{{ key }}" class="tab-pane {% if forloop.counter0 == 0 %}active{% endif %}">
            <div class="info-list">
                {% for field in fields %}
                    <div class="info-item" style="display: flex; flex-direction: column; justify-content: center; align-items: center">
{#                        <span class="info-label">{{ object|verbose_name:field }}</span>#}
                        {% with object_field=object|attr:field %}
                            {% if object|is_many_to_many:field %}
                                {% if object_field.exists %}
                                    {% if field == 'middle_certifications' %}
                                        <!-- Кастомное отображение для middle_certifications -->
                                        <div class="certification-container">
                                            <div class="certification-header">
                                                <div class="column-header">Экзамены</div>
                                                <div class="column-header">Зачеты</div>
                                            </div>
                                            <div class="certification-subheader">
                                                <div class="column-subheader">Дисциплина</div>
                                                <div class="column-subheader">Дисциплина</div>
                                            </div>
                                            {% regroup object_field.all|dictsort:"semester" by semester as semester_groups %}
                                            {% for group in semester_groups %}
                                                <div class="semester-section">
                                                    <h4>{{ group.grouper }} семестр</h4>
                                                    <div class="certification-grid">
                                                        <div class="exam-column">
                                                            {% for cert in group.list %}
                                                                {% if cert.is_exam %}
                                                                    <div class="record-tile">
                                                                        <p>{{ cert.discipline.name|default:"Не указано" }}</p>
                                                                        <p>Семестр: {{ cert.semester|default:"Не указано" }}</p>
                                                                        <p>Часы: {{ cert.hours|default:"Не указано" }}</p>
                                                                    </div>
                                                                {% endif %}
                                                            {% endfor %}
                                                        </div>
                                                        <div class="credit-column">
                                                            {% for cert in group.list %}
                                                                {% if not cert.is_exam %}
                                                                    <div class="record-tile">
                                                                        <p>{{ cert.discipline.name|default:"Не указано" }}</p>
                                                                        <p>Семестр: {{ cert.semester|default:"Не указано" }}</p>
                                                                        <p>Часы: {{ cert.hours|default:"Не указано" }}</p>
                                                                    </div>
                                                                {% endif %}
                                                            {% endfor %}
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% elif field == 'professional_modules' %}
                                        <div class="record-grid">
                                            {% for module in object_field.all %}
                                                <div class="record-tile">
                                                    <p><strong>Название:</strong> {{ module.module_name|default:"Не указано" }}</p>
                                                    <p><strong>Часы:</strong> {{ module.hours|default:"Не указано" }}</p>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% elif field == 'practices' %}
                                        <div class="record-grid">
                                            {% for practice in object_field.all %}
                                                <div class="record-tile">
                                                    <p><strong>Название:</strong> {{ practice.practice_name|default:"Не указано" }}</p>
                                                    <p><strong>Часы:</strong> {{ practice.hours|default:"Не указано" }}</p>
                                                    <p><strong>Семестр:</strong> {{ practice.semester|default:"Не указано" }}</p>
                                                    <p><strong>Тип:</strong> {{ practice.get_practice_type_display|default:"Не указано" }}</p>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% elif field == 'term_papers' %}
                                        <div class="record-grid">
                                            {% for paper in object_field.all %}
                                                <div class="record-tile">
                                                    <p><strong>Дисциплина:</strong> {{ paper.discipline.name|default:"Не указано" }}</p>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                {% else %}
                                    <span class="info-value">Нет данных</span>
                                {% endif %}
                            {% else %}
                                <span class="info-value">{{ object_field|date:"d.m.Y"|default:"Не указано" }}</span>
                            {% endif %}
                        {% endwith %}
                    </div>
                {% endfor %}
                <!-- Дополнительные поля для вкладки "Информация" -->
                {% if key == 'Информация' %}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Направление подготовки</span>#}
{#                        <span class="info-value">{{ qualification.specialty.name|default:"Не указано" }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Квалификация</span>#}
{#                        <span class="info-value">{{ qualification.name|default:"Не указано" }}</span>#}
{#                    </div>#}
{#                    <div class="info-item">#}
{#                        <span class="info-label">Год поступления</span>#}
{#                        <span class="info-value">{{ admission_year|default:"Не указано" }}</span>#}
{#                    </div>#}
                    <div class="info-item">
                        <span class="info-label">ФИО</span>
                        <span class="info-value">{{ object.student_name|default:"Не указано" }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Номер зачетной книжки</span>
                        <span class="info-value">{{ object.record_book_number|default:"Не указано" }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Направление подготовки</span>
                        <span class="info-value">{{ qualification.specialty.name }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Приказ о зачислении</span>
                        <span class="info-value">{{ object.admission_order|default:"Не указано" }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Дата выдачи</span>
                        <span class="info-value">{{ object.issue_date|date:"d.m.Y"|default:"Не указано" }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Квалификация</span>
                        <span class="info-value">{{ qualification.name }}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Год поступления</span>
                        <span class="info-value">{{ admission_year }}</span>
                    </div>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% endblock %}

{% block extra-detail-content %}
    <!-- Стили для кастомного отображения -->
    <style>
        .record-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 10px;
        }
        .record-tile {
            background-color: var(--bg-color, #f9f9f9);
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .record-tile p {
            margin: 5px 0;
            font-size: 18px;
            font-weight: 500;
        }
        .record-tile p strong {
            color: var(--text-color, #333);
        }
        .certification-container {
            padding: 10px;
        }
        .certification-header {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            text-align: center;
            margin-bottom: 10px;
        }
        .column-header {
            font-size: 18px;
            color: var(--text-color, #333);
        }
        .certification-subheader {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            text-align: center;
            margin-bottom: 15px;
        }
        .column-subheader {
            font-size: 16px;
            font-weight: bold;
            color: var(--text-color, #333);
        }
        .semester-section {
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 20px;
        }
        .semester-section:last-child {
            border-bottom: none;
        }
        .semester-section h4 {
            font-size: 16px;
            color: var(--text-color, #333);
            margin-bottom: 15px;
            text-align: center;
        }
        .certification-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .exam-column, .credit-column {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
    </style>
{% endblock %}




{#{% extends 'base_detail.html' %}#}
{##}
{#{% load util %}#}
{#{% load static %}#}
{##}
{#{% block title %}#}
{#Просмотр зачетной книжки - {{ template.student_name|default:"Не указано" }}#}
{#{% endblock %}#}
{##}
{#{% block detail-header %}#}
{#<h1>#}
{#    Зачетная книжка: {{ template.student_name|default:"Не указано" }}#}
{#</h1>#}
{#{% endblock %}#}
{##}
{#{% block actions-button %}#}
{#    {% if is_student_gradebook %}#}
{#        <a class="btn-primary" href="{% url 'student_detail' pk=student_id %}">#}
{#            К студенту#}
{#        </a>#}
{#    {% else %}#}
{#        <a class="btn-primary" href="{% url 'qualification_detail' pk=qualification.id %}">#}
{#            Назад к квалификации#}
{#        </a>#}
{#    {% endif %}#}
{#{% endblock %}#}
{##}
{#{% block tabs_button %}#}
{#    <!-- Переопределяем кнопки табов -->#}
{#    <button type="button" class="detail-tab tab-button active" data-tab="info">Информация</button>#}
{#    <button type="button" class="detail-tab tab-button" data-tab="certifications">Промежуточная аттестация</button>#}
{#    <button type="button" class="detail-tab tab-button" data-tab="modules">Профессиональные модули</button>#}
{#    <button type="button" class="detail-tab tab-button" data-tab="practices">Практики</button>#}
{#    <button type="button" class="detail-tab tab-button" data-tab="term_papers">Курсовые работы</button>#}
{#{% endblock %}#}
{##}
{#{% block tabs %}#}
{#    <!-- Переопределяем содержимое табов -->#}
{#    <div id="info" class="tab-pane active">#}
{#        <div class="info-list">#}
{#            <div class="info-item">#}
{#                <span class="info-label">ФИО</span>#}
{#                <span class="info-value">{{ template.student_name|default:"Не указано" }}</span>#}
{#            </div>#}
{#            <div class="info-item">#}
{#                <span class="info-label">Номер зачетной книжки</span>#}
{#                <span class="info-value">{{ template.record_book_number|default:"Не указано" }}</span>#}
{#            </div>#}
{#            <div class="info-item">#}
{#                <span class="info-label">Направление подготовки</span>#}
{#                <span class="info-value">{{ qualification.specialty.name|default:"Не указано" }}</span>#}
{#            </div>#}
{#            <div class="info-item">#}
{#                <span class="info-label">Приказ о зачислении</span>#}
{#                <span class="info-value">{{ template.admission_order|default:"Не указано" }}</span>#}
{#            </div>#}
{#            <div class="info-item">#}
{#                <span class="info-label">Дата выдачи</span>#}
{#                <span class="info-value">{{ template.issue_date|date:"d.m.Y"|default:"Не указано" }}</span>#}
{#            </div>#}
{#            <div class="info-item">#}
{#                <span class="info-label">Квалификация</span>#}
{#                <span class="info-value">{{ qualification.name|default:"Не указано" }}</span>#}
{#            </div>#}
{#            <div class="info-item">#}
{#                <span class="info-label">Год поступления</span>#}
{#                <span class="info-value">{{ admission_year|default:"Не указано" }}</span>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <div id="certifications" class="tab-pane">#}
{#        {% if template.middle_certifications.exists %}#}
{#            <div class="certification-container">#}
{#                <div class="certification-header">#}
{#                    <div class="column-header">Экзамены</div>#}
{#                    <div class="column-header">Зачеты</div>#}
{#                </div>#}
{#                <div class="certification-subheader">#}
{#                    <div class="column-subheader">Дисциплина</div>#}
{#                    <div class="column-subheader">Дисциплина</div>#}
{#                </div>#}
{#                {% regroup template.middle_certifications.all|dictsort:"semester" by semester as semester_groups %}#}
{#                {% for group in semester_groups %}#}
{#                    <div class="semester-section">#}
{#                        <h4>{{ group.grouper }} семестр</h4>#}
{#                        <div class="certification-grid">#}
{#                            <div class="exam-column">#}
{#                                {% for cert in group.list %}#}
{#                                    {% if cert.is_exam %}#}
{#                                        <div class="record-tile">#}
{#                                            <p>{{ cert.discipline.name|default:"Не указано" }}</p>#}
{#                                            <p>Семестр: {{ cert.semester|default:"Не указано" }}</p>#}
{#                                            <p>Часы: {{ cert.hours|default:"Не указано" }}</p>#}
{#                                        </div>#}
{#                                    {% endif %}#}
{#                                {% endfor %}#}
{#                            </div>#}
{#                            <div class="credit-column">#}
{#                                {% for cert in group.list %}#}
{#                                    {% if not cert.is_exam %}#}
{#                                        <div class="record-tile">#}
{#                                            <p>{{ cert.discipline.name|default:"Не указано" }}</p>#}
{#                                            <p>Семестр: {{ cert.semester|default:"Не указано" }}</p>#}
{#                                            <p>Часы: {{ cert.hours|default:"Не указано" }}</p>#}
{#                                        </div>#}
{#                                    {% endif %}#}
{#                                {% endfor %}#}
{#                            </div>#}
{#                        </div>#}
{#                    </div>#}
{#                {% endfor %}#}
{#            </div>#}
{#        {% else %}#}
{#            <p>Нет данных о промежуточной аттестации.</p>#}
{#        {% endif %}#}
{#    </div>#}
{##}
{#    <div id="modules" class="tab-pane">#}
{#        {% if template.professional_modules.exists %}#}
{#            <div class="record-grid">#}
{#                {% for module in template.professional_modules.all %}#}
{#                    <div class="record-tile">#}
{#                        <p><strong>Название:</strong> {{ module.module_name|default:"Не указано" }}</p>#}
{#                        <p><strong>Часы:</strong> {{ module.hours|default:"Не указано" }}</p>#}
{#                    </div>#}
{#                {% endfor %}#}
{#            </div>#}
{#        {% else %}#}
{#            <p>Нет данных о профессиональных модулях.</p>#}
{#        {% endif %}#}
{#    </div>#}
{##}
{#    <div id="practices" class="tab-pane">#}
{#        {% if template.practices.exists %}#}
{#            <div class="record-grid">#}
{#                {% for practice in template.practices.all %}#}
{#                    <div class="record-tile">#}
{#                        <p><strong>Название:</strong> {{ practice.practice_name|default:"Не указано" }}</p>#}
{#                        <p><strong>Часы:</strong> {{ practice.hours|default:"Не указано" }}</p>#}
{#                        <p><strong>Семестр:</strong> {{ practice.semester|default:"Не указано" }}</p>#}
{#                        <p><strong>Тип:</strong> {{ practice.get_practice_type_display|default:"Не указано" }}</p>#}
{#                    </div>#}
{#                {% endfor %}#}
{#            </div>#}
{#        {% else %}#}
{#            <p>Нет данных о практиках.</p>#}
{#        {% endif %}#}
{#    </div>#}
{##}
{#    <div id="term_papers" class="tab-pane">#}
{#        {% if template.term_papers.exists %}#}
{#            <div class="record-grid">#}
{#                {% for paper in template.term_papers.all %}#}
{#                    <div class="record-tile">#}
{#                        <p><strong>Дисциплина:</strong> {{ paper.discipline.name|default:"Не указано" }}</p>#}
{#                    </div>#}
{#                {% endfor %}#}
{#            </div>#}
{#        {% else %}#}
{#            <p>Нет данных о курсовых работах.</p>#}
{#        {% endif %}#}
{#    </div>#}
{#{% endblock %}#}
{##}
{#{% block detail-content %}#}
{#    <div class="detail-content">#}
{#        <div class="detail-tabs">#}
{#            {% block tabs_button %}#}
{#            {% endblock %}#}
{#        </div>#}
{#        <div class="detail-tab-content">#}
{#            {% block tabs %}#}
{#            {% endblock %}#}
{#        </div>#}
{#    </div>#}
{##}
{#    <!-- Добавляем стили и скрипты прямо в шаблон -->#}
{#    <style>#}
{#        .record-grid {#}
{#            display: grid;#}
{#            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));#}
{#            gap: 20px;#}
{#            padding: 10px;#}
{#        }#}
{#        .record-tile {#}
{#            background-color: var(--bg-color, #f9f9f9);#}
{#            border: 1px solid #ddd;#}
{#            border-radius: 5px;#}
{#            padding: 15px;#}
{#            min-height: 100px;#}
{#            display: flex;#}
{#            flex-direction: column;#}
{#            justify-content: space-between;#}
{#        }#}
{#        .record-tile p {#}
{#            margin: 5px 0;#}
{#            font-size: 18px;#}
{#            font-weight: 500;#}
{#        }#}
{#        .record-tile p strong {#}
{#            color: var(--text-color, #333);#}
{#        }#}
{#        .certification-container {#}
{#            padding: 10px;#}
{#        }#}
{#        .certification-header {#}
{#            display: grid;#}
{#            grid-template-columns: 1fr 1fr;#}
{#            gap: 20px;#}
{#            text-align: center;#}
{#            margin-bottom: 10px;#}
{#        }#}
{#        .column-header {#}
{#            font-size: 18px;#}
{#            color: var(--text-color, #333);#}
{#        }#}
{#        .certification-subheader {#}
{#            display: grid;#}
{#            grid-template-columns: 1fr 1fr;#}
{#            gap: 20px;#}
{#            text-align: center;#}
{#            margin-bottom: 15px;#}
{#        }#}
{#        .column-subheader {#}
{#            font-size: 16px;#}
{#            font-weight: bold;#}
{#            color: var(--text-color, #333);#}
{#        }#}
{#        .semester-section {#}
{#            margin-bottom: 20px;#}
{#            border-bottom: 1px solid #ddd;#}
{#            padding-bottom: 20px;#}
{#        }#}
{#        .semester-section:last-child {#}
{#            border-bottom: none;#}
{#        }#}
{#        .semester-section h4 {#}
{#            font-size: 16px;#}
{#            color: var(--text-color, #333);#}
{#            margin-bottom: 15px;#}
{#            text-align: center;#}
{#        }#}
{#        .certification-grid {#}
{#            display: grid;#}
{#            grid-template-columns: 1fr 1fr;#}
{#            gap: 20px;#}
{#        }#}
{#        .exam-column, .credit-column {#}
{#            display: flex;#}
{#            flex-direction: column;#}
{#            gap: 10px;#}
{#        }#}
{#    </style>#}
{##}
{#    <script>#}
{#        document.addEventListener('DOMContentLoaded', function() {#}
{#            const tabs = document.querySelectorAll('.tab-button');#}
{#            const panes = document.querySelectorAll('.tab-pane');#}
{##}
{#            tabs.forEach(tab => {#}
{#                tab.addEventListener('click', function(e) {#}
{#                    e.preventDefault();#}
{#                    tabs.forEach(t => t.classList.remove('active'));#}
{#                    panes.forEach(p => p.classList.remove('active'));#}
{##}
{#                    tab.classList.add('active');#}
{#                    document.getElementById(tab.dataset.tab).classList.add('active');#}
{#                });#}
{#            });#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}