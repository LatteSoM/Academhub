{% extends 'base.html' %}

{% load render_table from django_tables2 %}
{% load bootstrap4 %}
{% load static %}
{% load util %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'Academhub/css/form.css' %}">
{% endblock %}

{% block content %}
<div class="page-container">
    <div class="page-header">
        <h2>Таблица {{table_name}}</h2>
    </div>

    <br/>

    <div class="tabs">
        <button class="tab-button active" data-tab="table">Таблица</button>
        <button class="tab-button" data-tab="filters">Фильтры</button>
    </div>

    <div class="tab-content">
        <div id="table" class="tab-pane active">
            {% if url_create|check_url_name_exists %}
                <a id="add-new" class="btn-primary" style="margin: 10px 0; display: inline-block;" href="{% url url_create %}">
                    Добавить
                </a>
            {% endif %}
            <div class="active-filters">
                {% include 'inc/table/active_filters.html' %}
            </div>
            {% render_table table 'inc/table/table.html' %}
        </div>

        <div id="filters" class="tab-pane">
            <form method="get" class="form">
                {% include 'inc/form.html' with form=filter.form %}
                <button type="submit" class="btn-primary">Применить фильтры</button>
                <a href="?" class="btn-secondary">Сбросить фильтры</a>
            </form>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    <script type="module" src="{% static 'Academhub/js/switchTab.js' %}"></script>
{% endblock %}